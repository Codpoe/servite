import{j as l}from"./jsx-runtime-OjB1YB6s.js";import{u as n}from"./index-Crl2ozBJ.js";const d={commitTime:1728267679},h=[{id:"自定义服务端-logger",text:"自定义服务端 logger",depth:1}];function e(i){const s={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",span:"span",...n(),...i.components},{Callout:r}=s;return r||a("Callout"),l.jsxs(l.Fragment,{children:[l.jsx(s.h1,{id:"自定义服务端-logger",children:"自定义服务端 logger"}),`
`,l.jsxs(s.p,{children:["默认情况下，Servite 会将一些信息和错误通过 ",l.jsx(s.code,{children:"console"})," 打印出来，如果需要自定义 logger，可以在中间件覆盖 ",l.jsx(s.code,{children:"event.context.logger"}),"。"]}),`
`,l.jsx(r,{type:"tip",children:l.jsxs(s.p,{children:["为了让整个服务都能使用到自定义的 logger，最好把设置 logger 的这个中间件放到最前面去执行，参考",l.jsx(s.a,{href:"/zh/guide/middlewares#%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F",children:"中间件的执行顺序"}),"。"]})}),`
`,l.jsx(s.pre,{className:"shiki shiki-themes min-light plastic",style:{backgroundColor:"#ffffff","--shiki-dark-bg":"#21252B",color:"#24292eff","--shiki-dark":"#A9B2C3"},tabIndex:"0",children:l.jsxs(s.code,{children:[l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"import"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:" { "}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"Logger"}),l.jsx(s.span,{style:{color:"#212121","--shiki-dark":"#A9B2C3"},children:","}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:" defineMiddleware"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:" } "}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"from"}),l.jsx(s.span,{style:{color:"#22863A","--shiki-dark":"#A9B2C3"},children:" '"}),l.jsx(s.span,{style:{color:"#22863A","--shiki-dark":"#98C379"},children:"servite/runtime/server"}),l.jsx(s.span,{style:{color:"#22863A","--shiki-dark":"#A9B2C3"},children:"'"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:";"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#C2C3C5","--shiki-dark":"#5F6672",fontStyle:"inherit","--shiki-dark-font-style":"italic"},children:"// 实现自定义 Logger"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#61AFEF"},children:"class"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#E5C07B"},children:" MyLogger"}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#61AFEF"},children:" implements"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#D19A66"},children:" Logger"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"  debug"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:":"}),l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#E5C07B"},children:" any"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"[]) {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#C6CCD7"},children:"    console"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#A9B2C3"},children:"."}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"debug"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:");"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"  }"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"  trace"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:":"}),l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#E5C07B"},children:" any"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"[]) {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#C6CCD7"},children:"    console"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#A9B2C3"},children:"."}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"trace"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:");"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"  }"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"  info"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:":"}),l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#E5C07B"},children:" any"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"[]) {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#C6CCD7"},children:"    console"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#A9B2C3"},children:"."}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"info"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:");"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"  }"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"  warn"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:":"}),l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#E5C07B"},children:" any"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"[]) {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#C6CCD7"},children:"    console"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#A9B2C3"},children:"."}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"warn"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:");"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"  }"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"  error"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:":"}),l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#E5C07B"},children:" any"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"[]) {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#C6CCD7"},children:"    console"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#A9B2C3"},children:"."}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"error"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"..."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"args"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:");"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"  }"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"}"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:"export"}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:" default"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:" defineMiddleware"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"({"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:"  onRequest"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"("}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"event"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:") {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#C6CCD7"},children:"    event"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"."}),l.jsx(s.span,{style:{color:"#1976D2","--shiki-dark":"#C6CCD7"},children:"context"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"."}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#C6CCD7"},children:"logger"}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:" ="}),l.jsx(s.span,{style:{color:"#D32F2F","--shiki-dark":"#E06C75"},children:" new"}),l.jsx(s.span,{style:{color:"#6F42C1","--shiki-dark":"#B57EDC"},children:" MyLogger"}),l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"();"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"  }"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292EFF","--shiki-dark":"#A9B2C3"},children:"})"})})]})})]})}function k(i={}){const{wrapper:s}={...n(),...i.components};return s?l.jsx(s,{...i,children:l.jsx(e,{...i})}):e(i)}function a(i,s){throw new Error("Expected component `"+i+"` to be defined: you likely forgot to import, pass, or provide it.")}export{k as default,d as frontmatter,h as toc};
