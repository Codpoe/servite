import{R as x,r as c,j as b}from"./jsx-runtime-OjB1YB6s.js";import{e as C,f as E}from"./index-DsYWWv1e.js";const I=x.forwardRef(function({to:r,onClick:u,replace:a=!1,state:d,target:o,preventScrollReset:l,relative:i,unstable_viewTransition:m,...w},n){const t=c.useRef(),h=C(r,{relative:i}),p=E(r,{target:o,replace:a,state:d,preventScrollReset:l,relative:i,unstable_viewTransition:m});return c.useEffect(()=>{if(!t.current||window.matchMedia("(min-width: 640px)").matches)return;const e=new IntersectionObserver(k=>{for(const R of k)R.isIntersecting&&(e.disconnect(),(window.requestIdleCallback||(_=>setTimeout(_,100)))(()=>{f(r)}))});return e.observe(t.current),()=>{e.disconnect()}},[r]),b.jsx("a",{...w,ref:e=>{t.current=e,typeof n=="function"?n(e):n&&(n.current=e)},href:h,target:o,onMouseEnter:()=>f(r),onClick:e=>{u?.(e),e.defaultPrevented||p(e)}})});function f(s){return window.__servite_init_route_handles__?.(s)}export{I as L};
