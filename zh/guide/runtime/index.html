<!DOCTYPE html>
<html lang="zh">
  <head>
    
    <meta charSet="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title data-rh="true" data-pagefind-meta="title:运行时能力">运行时能力 | Servite</title>
    <meta data-rh="true" name="description" content="A full-stack React framework"/>
    <script data-rh="true" >const __theme = typeof document !== 'undefined' && window.localStorage.getItem('servite:theme') || 'light';
            if (__theme === 'dark') {
              document.documentElement.classList.add('dark');
            }</script>
    <link href="/servite/_build/assets/jsx-runtime-OjB1YB6s.js" key="/servite/_build/assets/jsx-runtime-OjB1YB6s.js" rel="modulepreload">
    <link href="/servite/_build/assets/index-DsYWWv1e.js" key="/servite/_build/assets/index-DsYWWv1e.js" rel="modulepreload">
    <link href="/servite/_build/assets/preload-helper-DHJfT4Bb.js" key="/servite/_build/assets/preload-helper-DHJfT4Bb.js" rel="modulepreload">
    <link href="/servite/_build/assets/client-BNq-ObSH.js" key="/servite/_build/assets/client-BNq-ObSH.js" rel="modulepreload">
    
  </head>
  <body >
    <noscript>We're sorry but this app doesn't work properly without JavaScript enabled. Please enable it to continue.</noscript>
    
    <div id="root"><link href="/servite/_build/assets/jsx-runtime-OjB1YB6s.js" rel="modulepreload"/><link href="/servite/_build/assets/index-DsYWWv1e.js" rel="modulepreload"/><link href="/servite/_build/assets/router-DOCjaTsd.js" rel="modulepreload"/><link href="/servite/_build/assets/preload-helper-DHJfT4Bb.js" rel="modulepreload"/><link href="/servite/_build/assets/icons-DiXaHApO.js" rel="modulepreload"/><link href="/servite/_build/assets/layout-_EEFp9gG.css" rel="stylesheet" fetchpriority="high"/><link href="/servite/_build/assets/index-Crl2ozBJ.js" rel="modulepreload"/><link href="/servite/_build/assets/layout-CoS2Hqq1.js" rel="modulepreload"/><link href="/servite/_build/assets/layout-eX0phwkF.js" rel="modulepreload"/><div><header class="sticky top-0 left-0 right-0 z-30 bg-background/60 border-b border-border backdrop-blur-sm backdrop-saturate-200"><div class="max-w-[1380px] h-14 px-5 sm:px-7 mx-auto flex items-center relative"><div class="w-64"><a class="inline-block" href="/servite/zh"><h1 class="text-xl font-semibold">Servite</h1></a></div><div class="relative h-full flex-1 overflow-hidden"><h2 class="hidden sm:flex text-xl font-medium absolute left-0 h-full items-center cursor-pointer transition-all top-full opacity-0">运行时能力</h2></div><div class="ml-auto space-x-1 flex items-start"><servite-island id="island_54630" style="display:contents"><div class="relative group hidden md:block mr-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search pointer-events-none absolute top-1/2 left-2.5 -mt-2 w-4 h-4 text-muted-foreground"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg><input class="sr-flex sr-h-9 sr-w-full sr-rounded-md sr-border sr-border-input sr-bg-transparent sr-px-3 sr-py-1 sr-text-sm sr-shadow-sm sr-transition-colors file:sr-border-0 file:sr-bg-transparent file:sr-text-sm file:sr-font-medium placeholder:sr-text-muted-foreground focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-cursor-not-allowed disabled:sr-opacity-50 pl-8 pr-10 w-52 group-hover:border-foreground/50 group-focus-within:border-foreground/50 dark:bg-secondary dark:border-foreground/5 transition-colors" aria-label="Search" autoComplete="off" spellcheck="false" placeholder="Search" value=""/><kbd class="pointer-events-none absolute top-1/2 right-1.5 -translate-y-1/2 h-5 select-none flex items-center gap-1 rounded border bg-secondary px-1.5 font-mono text-[10px] font-medium opacity-70 group-hover:opacity-100 group-focus-within:opacity-100 transition-opacity"><span class="">⌘</span>K</kbd><div class="hidden absolute top-full right-0 w-[500px] max-h-[600px] overflow-y-auto mt-2 px-2.5 pb-2.5 bg-secondary rounded-lg border border-border/60 shadow-lg dark:border-border text-sm"><div class="flex justify-center pt-[30px] pb-5">No result</div></div></div></servite-island><button class="w-9"></button><a href="https://github.com/Codpoe/servite" target="_blank" rel="noreferrer"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-w-9"><span class=" [&amp;&gt;svg]:sr-h-4 [&amp;&gt;svg]:sr-w-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github "><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></span></button></a></div></div><div class="sm:hidden sticky top-14 z-30 h-9 px-5 sm:px-7 flex items-center space-x-2 font-medium cursor-pointer border-t border-border"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu "><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg><span class="text-xs">进阶</span><svg xmlns="http://www.w3.org/2000/svg" width="12" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right "><path d="m9 18 6-6-6-6"></path></svg><span class="text-xs">运行时能力</span></div></header><div class="max-w-[1380px] mx-auto flex justify-center items-start"><div class="fixed inset-0 bg-black/60 z-40 sm:hidden transition-all invisible opacity-0 pointer-events-none"></div><aside class="flex-shrink-0 fixed top-0 right-full bottom-0 h-screen bg-background z-40 sm:z-auto sm:sticky sm:-mt-14 sm:pt-20 sm:bg-transparent transition-transform overflow-x-auto sr-group sr-py-4 data-[collapsed=true]:sr-py-2" style="width:256px"><div class="sr-space-y-1 sr-px-3"><a class="block" href="/servite/zh/guide"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">介绍</button></a><a class="block" href="/servite/zh/guide/start"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">开始上手</button></a><a class="block" href="/servite/zh/guide/config"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">配置</button></a><a class="block" href="/servite/zh/guide/directory-structure"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">目录结构</button></a><a class="block" href="/servite/zh/guide/routes"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">路由</button></a><a class="block" href="/servite/zh/guide/routes-data"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">路由数据</button></a><a class="block" href="/servite/zh/guide/routes-error"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">路由错误</button></a><a class="block" href="/servite/zh/guide/middlewares"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">服务中间件</button></a><a class="block" href="/servite/zh/guide/ssr"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">SSR 服务端渲染</button></a><a class="block" href="/servite/zh/guide/ssg"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">SSG 静态生成</button></a><a class="block" href="/servite/zh/guide/csr"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">CSR 客户端渲染</button></a><a class="block" href="/servite/zh/guide/deploy"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">部署</button></a><div class="!sr-mt-8"><h2 class="sr-mb-2 sr-px-4 sr-text-lg sr-font-semibold sr-tracking-tight">进阶</h2><div class="sr-space-y-1"><a class="block" href="/servite/zh/guide/runtime"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 sr-bg-primary sr-text-primary-foreground sr-shadow hover:sr-bg-primary/90 sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">运行时能力</button></a><a class="block" href="/servite/zh/guide/unified-invocation"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">一体化 API 调用</button></a><a class="block" href="/servite/zh/guide/custom-logger"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">自定义服务端 logger</button></a><a class="block" href="/servite/zh/guide/islands"><button class="sr-inline-flex sr-items-center sr-justify-center sr-whitespace-nowrap sr-rounded-md sr-text-sm sr-font-medium sr-transition-colors focus-visible:sr-outline-none focus-visible:sr-ring-1 focus-visible:sr-ring-ring disabled:sr-pointer-events-none disabled:sr-opacity-50 hover:sr-bg-accent hover:sr-text-accent-foreground sr-h-9 sr-px-4 sr-py-2 sr-w-full !sr-justify-start">islands - 孤岛架构</button></a></div></div></div></aside><div class="px-5 sm:px-7 flex-1 pt-6 pb-14 min-w-0" data-pagefind-body="true"><div class="prose dark:prose-invert max-w-none"><link href="/servite/_build/assets/jsx-runtime-OjB1YB6s.js" rel="modulepreload"/><link href="/servite/_build/assets/index-Crl2ozBJ.js" rel="modulepreload"/><link href="/servite/_build/assets/runtime-CJqBKEwg.js" rel="modulepreload"/><h1 id="运行时能力">运行时能力</h1>
<p>Servite 封装了一些常用的运行时能力，包括 router、helmet、fetch、server 等等。
这些运行时能力都会通过 <code>servite/runtime/*</code> 来导出，例如使用 react-router 的一些 API 可以通过 <code>servite/runtime/router</code> 来导入。</p>
<h2 id="components">components</h2>
<h3 id="clientonly">ClientOnly</h3>
<p>有时候我们需要仅在客户端渲染的组件，这就可以使用 <code>ClientOnly</code> 组件。
这个组件在服务端渲染时会直接渲染 <code>null</code>，在浏览器端 useEffect 后才会真正地渲染内容。</p>
<pre class="shiki shiki-themes min-light plastic has-highlighted" style="background-color:#ffffff;--shiki-dark-bg:#21252B;color:#24292eff;--shiki-dark:#A9B2C3" tabindex="0"><code><span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">import</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> { </span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">ClientOnly</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> } </span><span style="color:#D32F2F;--shiki-dark:#E06C75">from</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">servite/runtime/components</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">export</span><span style="color:#D32F2F;--shiki-dark:#E06C75"> default</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> function</span><span style="color:#6F42C1;--shiki-dark:#B57EDC"> Page</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">() {</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">  return</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> (</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">    &lt;</span><span style="color:#22863A;--shiki-dark:#E5C07B">div</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">      &lt;</span><span style="color:#22863A;--shiki-dark:#E5C07B">div</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;这里会 SSR&lt;/</span><span style="color:#22863A;--shiki-dark:#E5C07B">div</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line highlighted"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">      &lt;</span><span style="color:#1976D2;--shiki-dark:#61AFEF">ClientOnly</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line highlighted"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">        &lt;</span><span style="color:#22863A;--shiki-dark:#E5C07B">div</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;而这里只会在浏览器中进行渲染&lt;/</span><span style="color:#22863A;--shiki-dark:#E5C07B">div</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line highlighted"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">      &lt;/</span><span style="color:#1976D2;--shiki-dark:#61AFEF">ClientOnly</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">    &lt;/</span><span style="color:#22863A;--shiki-dark:#E5C07B">div</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">  )</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">}</span></span></code></pre>
<h2 id="fetch">fetch</h2>
<p>无论是在服务器端还是在浏览器端，使用 fetch 来发起请求都是很常见的场景，
为此 Servite 基于 <a href="https://github.com/unjs/ofetch" target="_blank" rel="noreferrer">ofetch</a> 来提供同构的 fetch 能力。
并且 ofetch 在原生 fetch 的基础上做了一些扩展，例如直接解析 json、自动重试等等。</p>
<pre class="shiki shiki-themes min-light plastic" style="background-color:#ffffff;--shiki-dark-bg:#21252B;color:#24292eff;--shiki-dark:#A9B2C3" tabindex="0"><code><span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">import</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> { </span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">$fetch</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> } </span><span style="color:#D32F2F;--shiki-dark:#E06C75">from</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">servite/runtime/fetch</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">export</span><span style="color:#D32F2F;--shiki-dark:#E06C75"> default</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> async</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> function</span><span style="color:#6F42C1;--shiki-dark:#B57EDC"> Page</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B57EDC">  useEffect</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">(() </span><span style="color:#D32F2F;--shiki-dark:#61AFEF">=&gt;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B57EDC">    fetch</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">(</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">URL_ADDRESS</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">)</span><span style="color:#6F42C1;--shiki-dark:#A9B2C3">.</span><span style="color:#6F42C1;--shiki-dark:#B57EDC">then</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">(</span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">res</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> =&gt;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> {</span></span>
<span class="line"><span style="color:#C2C3C5;--shiki-dark:#5F6672;font-style:inherit;--shiki-dark-font-style:italic">      // ...</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">    });</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">  }</span><span style="color:#212121;--shiki-dark:#A9B2C3">,</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> [])</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">}</span></span></code></pre>
<p>Servite 提供的 <code>$fetch</code> 函数在服务器环境里还会自动带上当前请求的 headers 和 context。</p>
<h2 id="helmet">helmet</h2>
<p>Servite 的 helmet 是基于 <a href="https://github.com/staylor/react-helmet-async" target="_blank" rel="noreferrer">react-helmet-async</a> 实现的。</p>
<pre class="shiki shiki-themes min-light plastic" style="background-color:#ffffff;--shiki-dark-bg:#21252B;color:#24292eff;--shiki-dark:#A9B2C3" tabindex="0"><code><span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">import</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> { </span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">Helmet</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> } </span><span style="color:#D32F2F;--shiki-dark:#E06C75">from</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">servite/runtime/helmet</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">export</span><span style="color:#D32F2F;--shiki-dark:#E06C75"> default</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> function</span><span style="color:#6F42C1;--shiki-dark:#B57EDC"> Page</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">() {</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">  return</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> (</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">    &lt;</span><span style="color:#1976D2;--shiki-dark:#61AFEF">Helmet</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">      &lt;</span><span style="color:#22863A;--shiki-dark:#E5C07B">title</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;Servite&lt;/</span><span style="color:#22863A;--shiki-dark:#E5C07B">title</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">      &lt;</span><span style="color:#22863A;--shiki-dark:#E5C07B">meta</span><span style="color:#6F42C1;--shiki-dark:#D19A66"> name</span><span style="color:#D32F2F;--shiki-dark:#E06C75">=</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&quot;</span><span style="color:#22863A;--shiki-dark:#98C379">description</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&quot;</span><span style="color:#6F42C1;--shiki-dark:#D19A66"> content</span><span style="color:#D32F2F;--shiki-dark:#E06C75">=</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&quot;</span><span style="color:#22863A;--shiki-dark:#98C379">A full-stack React framework</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&quot;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> /&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">    &lt;/</span><span style="color:#1976D2;--shiki-dark:#61AFEF">Helmet</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">  )</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">}</span></span></code></pre>
<h2 id="island">island</h2>
<p>导出“孤岛”相关的 API。</p>
<p>继承 IslandProps：</p>
<pre class="shiki shiki-themes min-light plastic" style="background-color:#ffffff;--shiki-dark-bg:#21252B;color:#24292eff;--shiki-dark:#A9B2C3" tabindex="0"><code><span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">import</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> { </span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">IslandProps</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> } </span><span style="color:#D32F2F;--shiki-dark:#E06C75">from</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">servite/runtime/island</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">export</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> interface</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> MyComponentProps</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> extends</span><span style="color:#6F42C1;--shiki-dark:#D19A66"> IslandProps</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> {}</span></span></code></pre>
<p>手动水合组件：</p>
<pre class="shiki shiki-themes min-light plastic" style="background-color:#ffffff;--shiki-dark-bg:#21252B;color:#24292eff;--shiki-dark:#A9B2C3" tabindex="0"><code><span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">import</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> { </span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">hydrateIsland</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> } </span><span style="color:#D32F2F;--shiki-dark:#E06C75">from</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">servite/runtime/island</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C2C3C5;--shiki-dark:#5F6672;font-style:inherit;--shiki-dark-font-style:italic">// 水合某个 id 的组件</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B57EDC">hydrateIsland</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">(</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">id</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C2C3C5;--shiki-dark:#5F6672;font-style:inherit;--shiki-dark-font-style:italic">// 水合全部 manual 的组件</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#B57EDC">hydrateIsland</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">(</span><span style="color:#1976D2;--shiki-dark:#56B6C2">true</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">);</span></span></code></pre>
<h2 id="mdx">mdx</h2>
<p>导出 <code>@mdx-js/react</code> 的 API。</p>
<pre class="shiki shiki-themes min-light plastic" style="background-color:#ffffff;--shiki-dark-bg:#21252B;color:#24292eff;--shiki-dark:#A9B2C3" tabindex="0"><code><span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">import</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> { </span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">MDXProvider</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> } </span><span style="color:#D32F2F;--shiki-dark:#E06C75">from</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">servite/runtime/mdx</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#61AFEF">function</span><span style="color:#6F42C1;--shiki-dark:#B57EDC"> A</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">({</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#C6CCD7">  href</span><span style="color:#212121;--shiki-dark:#A9B2C3">,</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">  ...</span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">restProps</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">}</span><span style="color:#D32F2F;--shiki-dark:#E06C75">:</span><span style="color:#6F42C1;--shiki-dark:#E5C07B"> React</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">.</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">DetailedHTMLProps</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&lt;</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">  React</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">.</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">AnchorHTMLAttributes</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B">HTMLAnchorElement</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span><span style="color:#212121;--shiki-dark:#A9B2C3">,</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#E5C07B">  HTMLAnchorElement</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;) {</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">  if</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> (</span><span style="color:#1976D2;--shiki-dark:#C6CCD7">href</span><span style="color:#6F42C1;--shiki-dark:#A9B2C3">?.</span><span style="color:#6F42C1;--shiki-dark:#B57EDC">startsWith</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">(</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">/</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">)) {</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">    return</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> &lt;</span><span style="color:#1976D2;--shiki-dark:#61AFEF">Link</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> {</span><span style="color:#D32F2F;--shiki-dark:#E06C75">...</span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">restProps</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">} </span><span style="color:#6F42C1;--shiki-dark:#D19A66">to</span><span style="color:#D32F2F;--shiki-dark:#E06C75">=</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">{</span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">href</span><span style="color:#D32F2F;--shiki-dark:#E06C75"> ||</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">} /&gt;;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">  }</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">  return</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> &lt;</span><span style="color:#22863A;--shiki-dark:#E5C07B">a</span><span style="color:#6F42C1;--shiki-dark:#D19A66"> href</span><span style="color:#D32F2F;--shiki-dark:#E06C75">=</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">{</span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">href</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">} </span><span style="color:#6F42C1;--shiki-dark:#D19A66">target</span><span style="color:#D32F2F;--shiki-dark:#E06C75">=</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&quot;</span><span style="color:#22863A;--shiki-dark:#98C379">_blank</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&quot;</span><span style="color:#6F42C1;--shiki-dark:#D19A66"> rel</span><span style="color:#D32F2F;--shiki-dark:#E06C75">=</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&quot;</span><span style="color:#22863A;--shiki-dark:#98C379">noreferrer</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&quot;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> {</span><span style="color:#D32F2F;--shiki-dark:#E06C75">...</span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">restProps</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">} /&gt;;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">export</span><span style="color:#D32F2F;--shiki-dark:#E06C75"> default</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> function</span><span style="color:#6F42C1;--shiki-dark:#B57EDC"> Page</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">() {</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">  return</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> (</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">    &lt;</span><span style="color:#1976D2;--shiki-dark:#61AFEF">MDXProvider</span><span style="color:#6F42C1;--shiki-dark:#D19A66"> components</span><span style="color:#D32F2F;--shiki-dark:#E06C75">=</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">{{ a</span><span style="color:#D32F2F;--shiki-dark:#A9B2C3">:</span><span style="color:#1976D2;--shiki-dark:#C6CCD7"> A</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> }}&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">      {</span><span style="color:#C2C3C5;--shiki-dark:#5F6672;font-style:inherit;--shiki-dark-font-style:italic">/* ... */</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">}</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">    &lt;/</span><span style="color:#1976D2;--shiki-dark:#61AFEF">MDXProvider</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">&gt;</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">  )</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">}</span></span></code></pre>
<h2 id="router">router</h2>
<p>Servite 的 router 是基于 <a href="https://reactrouter.com/" target="_blank" rel="noreferrer">react-router</a> 实现的，所以你可以使用 react-router 的所有 API。</p>
<pre class="shiki shiki-themes min-light plastic" style="background-color:#ffffff;--shiki-dark-bg:#21252B;color:#24292eff;--shiki-dark:#A9B2C3" tabindex="0"><code><span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">import</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> { </span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">useParams</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> } </span><span style="color:#D32F2F;--shiki-dark:#E06C75">from</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">servite/runtime/router</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">export</span><span style="color:#D32F2F;--shiki-dark:#E06C75"> default</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> function</span><span style="color:#6F42C1;--shiki-dark:#B57EDC"> Page</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">() {</span></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#61AFEF">  const</span><span style="color:#1976D2;--shiki-dark:#C6CCD7"> routeParams</span><span style="color:#D32F2F;--shiki-dark:#E06C75"> =</span><span style="color:#6F42C1;--shiki-dark:#B57EDC"> useParams</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">();</span></span>
<span class="line"><span style="color:#C2C3C5;--shiki-dark:#5F6672;font-style:inherit;--shiki-dark-font-style:italic">  // ...</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">}</span></span></code></pre>
<p>另外，Servite 对 react-router 的 Link 组件做了一些增强：</p>
<ul>
<li>在支持 hover 的设备上（<code>@media (hover: hover)</code>），鼠标 hover 到 Link 上时，会自动预取相应的路由组件 JS，这样可以减少路由跳转的等待时间。</li>
<li>在<strong>不</strong>支持 hover 的设备上，当 Link 在视口内可见时，也会触发预取路由组件的 JS。</li>
</ul>
<h2 id="server">server</h2>
<p>Servite 通过 <code>servite/runtime/server</code> 来提供一些服务端的运行时能力，具体 API 可以参考 <a href="https://github.com/unjs/h3" target="_blank" rel="noreferrer">h3</a>。</p>
<pre class="shiki shiki-themes min-light plastic" style="background-color:#ffffff;--shiki-dark-bg:#21252B;color:#24292eff;--shiki-dark:#A9B2C3" tabindex="0"><code><span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">import</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> { </span><span style="color:#24292EFF;--shiki-dark:#C6CCD7">defineEventHandler</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> } </span><span style="color:#D32F2F;--shiki-dark:#E06C75">from</span><span style="color:#22863A;--shiki-dark:#A9B2C3"> &#x27;</span><span style="color:#22863A;--shiki-dark:#98C379">servite/runtime/server</span><span style="color:#22863A;--shiki-dark:#A9B2C3">&#x27;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D32F2F;--shiki-dark:#E06C75">export</span><span style="color:#D32F2F;--shiki-dark:#E06C75"> default</span><span style="color:#6F42C1;--shiki-dark:#B57EDC"> defineEventHandler</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3">(</span><span style="color:#D32F2F;--shiki-dark:#61AFEF">async</span><span style="color:#24292EFF;--shiki-dark:#C6CCD7"> event</span><span style="color:#D32F2F;--shiki-dark:#61AFEF"> =&gt;</span><span style="color:#24292EFF;--shiki-dark:#A9B2C3"> {</span></span>
<span class="line"><span style="color:#C2C3C5;--shiki-dark:#5F6672;font-style:inherit;--shiki-dark-font-style:italic">  // ...</span></span>
<span class="line"><span style="color:#24292EFF;--shiki-dark:#A9B2C3">});</span></span></code></pre></div></div><servite-island id="island_07604" style="display:contents"><div class="w-64 pr-7 sticky top-14 pt-6 flex-shrink-0 hidden lg:block"><div class="mb-2 text-xs font-bold">目录</div><div class="relative"><div class="absolute -left-3 w-1 h-5 rounded bg-primary transition-all
          opacity-0" style="top:4px"></div><a id="toc-item-0" class="block truncate text-sm leading-7 font-medium transition-opacity
              opacity-60 hover:opacity-100" style="padding-left:0px" href="/servite/zh/guide/runtime#components">components</a><a id="toc-item-1" class="block truncate text-sm leading-7 font-medium transition-opacity
              opacity-60 hover:opacity-100" style="padding-left:12px" href="/servite/zh/guide/runtime#clientonly">ClientOnly</a><a id="toc-item-2" class="block truncate text-sm leading-7 font-medium transition-opacity
              opacity-60 hover:opacity-100" style="padding-left:0px" href="/servite/zh/guide/runtime#fetch">fetch</a><a id="toc-item-3" class="block truncate text-sm leading-7 font-medium transition-opacity
              opacity-60 hover:opacity-100" style="padding-left:0px" href="/servite/zh/guide/runtime#helmet">helmet</a><a id="toc-item-4" class="block truncate text-sm leading-7 font-medium transition-opacity
              opacity-60 hover:opacity-100" style="padding-left:0px" href="/servite/zh/guide/runtime#island">island</a><a id="toc-item-5" class="block truncate text-sm leading-7 font-medium transition-opacity
              opacity-60 hover:opacity-100" style="padding-left:0px" href="/servite/zh/guide/runtime#mdx">mdx</a><a id="toc-item-6" class="block truncate text-sm leading-7 font-medium transition-opacity
              opacity-60 hover:opacity-100" style="padding-left:0px" href="/servite/zh/guide/runtime#router">router</a><a id="toc-item-7" class="block truncate text-sm leading-7 font-medium transition-opacity
              opacity-60 hover:opacity-100" style="padding-left:0px" href="/servite/zh/guide/runtime#server">server</a></div></div></servite-island></div></div><script>window.__servite__ = {"ssr":true};
window.manifest = {"src/pages/(en)/page.tsx?pick=default&pick=$css":{"output":"/servite/_build/assets/page-U3SEeShu.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-DsYWWv1e.js","key":"/servite/_build/assets/index-DsYWWv1e.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/icons-DiXaHApO.js","key":"/servite/_build/assets/icons-DiXaHApO.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/router-DOCjaTsd.js","key":"/servite/_build/assets/router-DOCjaTsd.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-BI451IsD.js","key":"/servite/_build/assets/index-BI451IsD.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/page-U3SEeShu.js","key":"/servite/_build/assets/page-U3SEeShu.js","rel":"modulepreload"}}]},"src/pages/a/page.data.ts?pick=loader":{"output":"/servite/_build/assets/page.data-CmzQIZky.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/page.data-CmzQIZky.js","key":"/servite/_build/assets/page.data-CmzQIZky.js","rel":"modulepreload"}}]},"src/pages/a/page.tsx?pick=default&pick=$css":{"output":"/servite/_build/assets/page-V-q0lfP3.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-DsYWWv1e.js","key":"/servite/_build/assets/index-DsYWWv1e.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/router-DOCjaTsd.js","key":"/servite/_build/assets/router-DOCjaTsd.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/page-V-q0lfP3.js","key":"/servite/_build/assets/page-V-q0lfP3.js","rel":"modulepreload"}}]},"src/pages/b/page.data.ts?pick=loader":{"output":"/servite/_build/assets/page.data-C16H4fuo.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/page.data-C16H4fuo.js","key":"/servite/_build/assets/page.data-C16H4fuo.js","rel":"modulepreload"}}]},"src/pages/b/page.tsx?pick=default&pick=$css":{"output":"/servite/_build/assets/page-LQ4UXOIt.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-DsYWWv1e.js","key":"/servite/_build/assets/index-DsYWWv1e.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/router-DOCjaTsd.js","key":"/servite/_build/assets/router-DOCjaTsd.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/page-LQ4UXOIt.js","key":"/servite/_build/assets/page-LQ4UXOIt.js","rel":"modulepreload"}}]},"src/pages/layout.tsx?pick=default&pick=$css":{"output":"/servite/_build/assets/layout-eX0phwkF.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-DsYWWv1e.js","key":"/servite/_build/assets/index-DsYWWv1e.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/router-DOCjaTsd.js","key":"/servite/_build/assets/router-DOCjaTsd.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/preload-helper-DHJfT4Bb.js","key":"/servite/_build/assets/preload-helper-DHJfT4Bb.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/icons-DiXaHApO.js","key":"/servite/_build/assets/icons-DiXaHApO.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/layout-_EEFp9gG.css","key":"/servite/_build/assets/layout-_EEFp9gG.css","rel":"stylesheet","fetchPriority":"high"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/layout-CoS2Hqq1.js","key":"/servite/_build/assets/layout-CoS2Hqq1.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/layout-eX0phwkF.js","key":"/servite/_build/assets/layout-eX0phwkF.js","rel":"modulepreload"}}]},"src/pages/test.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/test-B8zbV1LK.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/test-B8zbV1LK.js","key":"/servite/_build/assets/test-B8zbV1LK.js","rel":"modulepreload"}}]},"src/pages/zh/guide/config.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/config-CRLCAWZw.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/config-CRLCAWZw.js","key":"/servite/_build/assets/config-CRLCAWZw.js","rel":"modulepreload"}}]},"src/pages/zh/guide/csr.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/csr-BNhfxPw0.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/csr-BNhfxPw0.js","key":"/servite/_build/assets/csr-BNhfxPw0.js","rel":"modulepreload"}}]},"src/pages/zh/guide/custom-logger.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/custom-logger-CmfvZAlY.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/custom-logger-CmfvZAlY.js","key":"/servite/_build/assets/custom-logger-CmfvZAlY.js","rel":"modulepreload"}}]},"src/pages/zh/guide/custom-server-render.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/custom-server-render-6Aq7MFWS.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/custom-server-render-6Aq7MFWS.js","key":"/servite/_build/assets/custom-server-render-6Aq7MFWS.js","rel":"modulepreload"}}]},"src/pages/zh/guide/deploy.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/deploy-oq7_1za5.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/deploy-oq7_1za5.js","key":"/servite/_build/assets/deploy-oq7_1za5.js","rel":"modulepreload"}}]},"src/pages/zh/guide/directory-structure.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/directory-structure-xZHCNN9F.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/directory-structure-xZHCNN9F.js","key":"/servite/_build/assets/directory-structure-xZHCNN9F.js","rel":"modulepreload"}}]},"src/pages/zh/guide/index.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/index-lXpKIqF8.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-lXpKIqF8.js","key":"/servite/_build/assets/index-lXpKIqF8.js","rel":"modulepreload"}}]},"src/pages/zh/guide/islands.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/islands-Dxrsvliv.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/islands-Dxrsvliv.js","key":"/servite/_build/assets/islands-Dxrsvliv.js","rel":"modulepreload"}}]},"src/pages/zh/guide/middlewares.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/middlewares-DaHZx_IO.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/middlewares-DaHZx_IO.js","key":"/servite/_build/assets/middlewares-DaHZx_IO.js","rel":"modulepreload"}}]},"src/pages/zh/guide/routes-data.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/routes-data-DlayVmiF.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/nested-routes-CMQ4qAC8.js","key":"/servite/_build/assets/nested-routes-CMQ4qAC8.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/routes-data-DlayVmiF.js","key":"/servite/_build/assets/routes-data-DlayVmiF.js","rel":"modulepreload"}}]},"src/pages/zh/guide/routes-error.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/routes-error-CWnpBKRz.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/nested-routes-CMQ4qAC8.js","key":"/servite/_build/assets/nested-routes-CMQ4qAC8.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/routes-error-CWnpBKRz.js","key":"/servite/_build/assets/routes-error-CWnpBKRz.js","rel":"modulepreload"}}]},"src/pages/zh/guide/routes.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/routes-DNUv_ZPe.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/routes-DNUv_ZPe.js","key":"/servite/_build/assets/routes-DNUv_ZPe.js","rel":"modulepreload"}}]},"src/pages/zh/guide/runtime.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/runtime-CJqBKEwg.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/runtime-CJqBKEwg.js","key":"/servite/_build/assets/runtime-CJqBKEwg.js","rel":"modulepreload"}}]},"src/pages/zh/guide/ssg.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/ssg-AeE57hyg.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/ssg-AeE57hyg.js","key":"/servite/_build/assets/ssg-AeE57hyg.js","rel":"modulepreload"}}]},"src/pages/zh/guide/ssr.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/ssr-BLE5ZOxx.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/ssr-BLE5ZOxx.js","key":"/servite/_build/assets/ssr-BLE5ZOxx.js","rel":"modulepreload"}}]},"src/pages/zh/guide/start.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/start-DK7K7D_k.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/start-DK7K7D_k.js","key":"/servite/_build/assets/start-DK7K7D_k.js","rel":"modulepreload"}}]},"src/pages/zh/guide/unified-invocation.mdx?pick=default&pick=$css":{"output":"/servite/_build/assets/unified-invocation-BQn0HBQr.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-Crl2ozBJ.js","key":"/servite/_build/assets/index-Crl2ozBJ.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/unified-invocation-BQn0HBQr.js","key":"/servite/_build/assets/unified-invocation-BQn0HBQr.js","rel":"modulepreload"}}]},"src/pages/zh/page.tsx?pick=default&pick=$css":{"output":"/servite/_build/assets/page-BzJGfYNI.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-DsYWWv1e.js","key":"/servite/_build/assets/index-DsYWWv1e.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/icons-DiXaHApO.js","key":"/servite/_build/assets/icons-DiXaHApO.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/router-DOCjaTsd.js","key":"/servite/_build/assets/router-DOCjaTsd.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-BI451IsD.js","key":"/servite/_build/assets/index-BI451IsD.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/page-BzJGfYNI.js","key":"/servite/_build/assets/page-BzJGfYNI.js","rel":"modulepreload"}}]},"virtual:$vinxi/handler/client":{"output":"/servite/_build/assets/client-BNq-ObSH.js","assets":[{"tag":"link","attrs":{"href":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","key":"/servite/_build/assets/jsx-runtime-OjB1YB6s.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/index-DsYWWv1e.js","key":"/servite/_build/assets/index-DsYWWv1e.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/preload-helper-DHJfT4Bb.js","key":"/servite/_build/assets/preload-helper-DHJfT4Bb.js","rel":"modulepreload"}},{"tag":"link","attrs":{"href":"/servite/_build/assets/client-BNq-ObSH.js","key":"/servite/_build/assets/client-BNq-ObSH.js","rel":"modulepreload"}}]}};
window.__staticRouterHydrationData = JSON.parse("{\"loaderData\":{\"__servite_root__\":null,\"src/pages/layout.tsx?pick=default\u0026pick=$css\":null,\"src/pages/zh/guide/runtime.mdx?pick=default\u0026pick=$css\":null},\"actionData\":null,\"errors\":null}");
window.__staticRouterHydrationDataPromises = {};
</script><script type="module" src="/servite/_build/assets/client-BNq-ObSH.js" async=""></script></div>

  </body>
</html>