import{R as w,r as c,a as O,_ as S}from"./islands-8d7124bb.js";import{u as b,j as f,F as g,i as N,a as n,W as k,L as R}from"./Link-65248fea.js";import{r as I,A as h,L as _,I as D}from"./utils-ac2a900b.js";import{u as A}from"./context-6f55fe3d.js";import{S as v,C as P}from"./index-3da4e4f5.js";function F(r){var a=r.target,o=a.tagName;return a.isContentEditable||o==="INPUT"||o==="SELECT"||o==="TEXTAREA"}function T(r){var a=r.isOpen,o=r.onOpen,d=r.onClose,i=r.onInput,s=r.searchButtonRef;w.useEffect(function(){function l(t){function C(){document.body.classList.contains("DocSearch--active")||o()}(t.keyCode===27&&a||t.key.toLowerCase()==="k"&&(t.metaKey||t.ctrlKey)||!F(t)&&t.key==="/"&&!a)&&(t.preventDefault(),a?d():document.body.classList.contains("DocSearch--active")||C()),s&&s.current===document.activeElement&&i&&/[a-zA-Z0-9]/.test(String.fromCharCode(t.keyCode))&&i(t)}return window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l)}},[a,o,d,i,s])}let x=null;async function p(){x||([{DocSearchModal:x}]=await Promise.all([S(()=>import("./modal-9ea18277.js"),["assets/modal-9ea18277.js","assets/islands-8d7124bb.js"]),S(()=>import("./index-779358f4.js"),["assets/index-779358f4.js","assets/index-41980c59.css"])]))}function $({hit:r,children:a}){return n(R,{to:r.url,children:a})}function U({iconOnly:r}){const a=b(),{currentLocale:o}=A(),d=c.useRef(null),[i,s]=c.useState(!1),l=c.useCallback(async()=>{await p(),s(!0)},[s]),t=c.useCallback(()=>{s(!1)},[s]),C=c.useCallback(e=>e.map(u=>{const{pathname:m,hash:L}=new URL(u.url);return{...u,url:`${I("/servite/")}${m}${L}`}}),[]),E=c.useRef({navigate({item:e}){e!=null&&e.url&&a(e.url)}}).current,y=c.useMemo(()=>{var u,m;let e=((m=(u=h)==null?void 0:u.searchParameters)==null?void 0:m.facetFilters)||[];return e=typeof e=="string"?[e]:e,_.length>1?[`lang:${o.locale}`,...e]:e},[o]);return T({isOpen:i,onOpen:l,onClose:t}),f(g,{children:[!N&&n(k,{children:n("link",{rel:"preconnect",href:`https://${h.appId}-dsn.algolia.net`,crossOrigin:""})}),n("button",{ref:d,className:"group flex justify-center items-center h-full ml-6","aria-label":"Search",onMouseOver:p,onTouchStart:p,onFocus:p,onClick:l,children:r?n("div",{className:"flex justify-center w-12",children:n(v,{className:"text-xl text-c-text-0 group-hover:text-c-brand transition-colors"})}):f(g,{children:[f("div",{className:"flex items-center space-x-1.5 mr-1.5 text-c-text-2 group-hover:text-c-text-0 transition-colors",children:[n(v,{className:"text-[15px]"}),n("span",{className:"text-[13px]",children:"Search"})]}),f("div",{className:"flex items-center h-4.5 px-0.5 border border-current rounded text-xs text-c-text-3 group-hover:text-c-brand transition-colors",children:[n(P,{}),"K"]})]})}),D&&i&&x&&O.createPortal(n(x,{initialScrollY:window.scrollY,transformItems:C,hitComponent:$,navigator:E,onClose:t,...h,searchParameters:{...h.searchParameters,facetFilters:y}}),document.body)]})}export{U as Search};
