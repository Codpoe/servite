import{u as r,j as l}from"./index-BPw-oqGO.js";const i={commitTime:1712246596},d=[{id:"使用",text:"使用",depth:2},{id:"结合-typescript",text:"结合 Typescript",depth:3}];function c(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...r(),...e.components},{Callout:n}=s;return n||o("Callout",!0),l.jsxs(l.Fragment,{children:[l.jsxs(s.h1,{id:"一体化-api-调用",children:[l.jsx(s.a,{className:"header-anchor","aria-hidden":"true",tabIndex:"-1",href:"#一体化-api-调用",children:"#"}),"一体化 API 调用"]}),`
`,l.jsx(s.p,{children:"Servite 支持一体化的 API 调用，意思就是可以在前端直接 import API 函数，调用时会自动转换成 HTTP 请求。这个方式有以下好处："}),`
`,l.jsxs(s.ul,{children:[`
`,l.jsx(s.li,{children:"更简洁、优雅的 API 调用方式，无需手动写接口 URL"}),`
`,l.jsx(s.li,{children:"更完善的 Typescript 类型提示。在前端侧可以直接感知接口的参数类型和响应类型"}),`
`,l.jsx(s.li,{children:"更好的开发体验"}),`
`]}),`
`,l.jsxs(s.h2,{id:"使用",children:[l.jsx(s.a,{className:"header-anchor","aria-hidden":"true",tabIndex:"-1",href:"#使用",children:"#"}),"使用"]}),`
`,l.jsxs(s.p,{children:["在前面我们已经介绍过如何定义 ",l.jsx(s.a,{href:"/zh/guide/routes#api-%E8%B7%AF%E7%94%B1",children:"API 路由"}),"了，但想要实现",l.jsx(s.strong,{children:"一体化调用"}),"，你需要改为从 ",l.jsx(s.code,{children:"servite/server"})," 中导出 ",l.jsx(s.code,{children:"apiHandler"})," 方法来定义接口："]}),`
`,l.jsx(s.pre,{className:"code-theme-light",style:{backgroundColor:'#f6f8fa" tabindex="0'},children:l.jsxs(s.code,{children:[l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// <root>/src/server/api/todo.get.ts"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"import"}),l.jsx(s.span,{style:{color:"#24292E"},children:" { apiHandler } "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"from"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'servite/server'"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"export"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"default"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"apiHandler"}),l.jsx(s.span,{style:{color:"#24292E"},children:"("}),l.jsx(s.span,{style:{color:"#D73A49"},children:"async"}),l.jsx(s.span,{style:{color:"#24292E"},children:" ("}),l.jsx(s.span,{style:{color:"#E36209"},children:"args"}),l.jsx(s.span,{style:{color:"#24292E"},children:", "}),l.jsx(s.span,{style:{color:"#E36209"},children:"event"}),l.jsx(s.span,{style:{color:"#24292E"},children:") "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"=>"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// ..."})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"return"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"    code: "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"0"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"    msg: "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'ok'"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"    data: "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'This is ok'"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"  };"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"});"})})]})}),l.jsx(s.pre,{className:"code-theme-dark",style:{backgroundColor:'#161b22" tabindex="0'},children:l.jsxs(s.code,{children:[l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// <root>/src/server/api/todo.get.ts"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"import"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" { apiHandler } "}),l.jsx(s.span,{style:{color:"#F97583"},children:"from"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'servite/server'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"export"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"default"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"apiHandler"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"("}),l.jsx(s.span,{style:{color:"#F97583"},children:"async"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" ("}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"args"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:", "}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"event"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:") "}),l.jsx(s.span,{style:{color:"#F97583"},children:"=>"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// ..."})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#F97583"},children:"return"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    code: "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"0"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    msg: "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'ok'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    data: "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'This is ok'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  };"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"});"})})]})}),`
`,l.jsx(s.p,{children:"接着就可以在前端代码中直接 import 该文件来进行调用了："}),`
`,l.jsx(s.pre,{className:"code-theme-light",style:{backgroundColor:'#f6f8fa" tabindex="0'},children:l.jsxs(s.code,{children:[l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// <root>/src/pages/page.tsx"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"import"}),l.jsx(s.span,{style:{color:"#24292E"},children:" { useState, useEffect } "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"from"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'react'"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"import"}),l.jsx(s.span,{style:{color:"#24292E"},children:" getTodo "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"from"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'../server/api/todo.get'"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"export"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"default"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"function"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Page"}),l.jsx(s.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"const"}),l.jsx(s.span,{style:{color:"#24292E"},children:" ["}),l.jsx(s.span,{style:{color:"#005CC5"},children:"res"}),l.jsx(s.span,{style:{color:"#24292E"},children:", "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"setRes"}),l.jsx(s.span,{style:{color:"#24292E"},children:"] "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"="}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"useState"}),l.jsx(s.span,{style:{color:"#24292E"},children:"();"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"useEffect"}),l.jsx(s.span,{style:{color:"#24292E"},children:"(() "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"=>"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"    ("}),l.jsx(s.span,{style:{color:"#D73A49"},children:"async"}),l.jsx(s.span,{style:{color:"#24292E"},children:" () "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"=>"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"      "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// 此调用会被自动转换成发起请求：GET /api/todo"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"      "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"const"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"res"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"="}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"await"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"getTodo"}),l.jsx(s.span,{style:{color:"#24292E"},children:"();"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"      "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"setRes"}),l.jsx(s.span,{style:{color:"#24292E"},children:"(res);"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"    })();"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"  }, []);"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// ..."})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"}"})})]})}),l.jsx(s.pre,{className:"code-theme-dark",style:{backgroundColor:'#161b22" tabindex="0'},children:l.jsxs(s.code,{children:[l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// <root>/src/pages/page.tsx"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"import"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" { useState, useEffect } "}),l.jsx(s.span,{style:{color:"#F97583"},children:"from"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'react'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"import"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" getTodo "}),l.jsx(s.span,{style:{color:"#F97583"},children:"from"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'../server/api/todo.get'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"export"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"default"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"function"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Page"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"() {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#F97583"},children:"const"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" ["}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"res"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:", "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"setRes"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"] "}),l.jsx(s.span,{style:{color:"#F97583"},children:"="}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"useState"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"();"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"useEffect"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"(() "}),l.jsx(s.span,{style:{color:"#F97583"},children:"=>"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    ("}),l.jsx(s.span,{style:{color:"#F97583"},children:"async"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" () "}),l.jsx(s.span,{style:{color:"#F97583"},children:"=>"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"      "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// 此调用会被自动转换成发起请求：GET /api/todo"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"      "}),l.jsx(s.span,{style:{color:"#F97583"},children:"const"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"res"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"="}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"await"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"getTodo"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"();"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"      "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"setRes"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"(res);"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    })();"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  }, []);"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// ..."})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"}"})})]})}),`
`,l.jsx(n,{type:"tip",children:l.jsxs(s.p,{children:["一体化 API 调用相关的配置项可以看",l.jsx(s.a,{href:"/zh/guide/config#api",children:"这里"}),"。"]})}),`
`,l.jsxs(s.h3,{id:"结合-typescript",children:[l.jsx(s.a,{className:"header-anchor","aria-hidden":"true",tabIndex:"-1",href:"#结合-typescript",children:"#"}),"结合 Typescript"]}),`
`,l.jsx(s.p,{children:"结合 Typescript，定义好接口的入参类型和返回结果类型，能让一体化调用达到更好的开发体验："}),`
`,l.jsx(s.pre,{className:"code-theme-light",style:{backgroundColor:'#f6f8fa" tabindex="0'},children:l.jsxs(s.code,{children:[l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// <root>/src/server/api/todo.get.ts"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"import"}),l.jsx(s.span,{style:{color:"#24292E"},children:" { apiHandler } "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"from"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'servite/server'"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"export"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"enum"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Bar"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"Great"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"Cool"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"}"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// 定义入参类型"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"export"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"interface"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Args"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#E36209"},children:"foo"}),l.jsx(s.span,{style:{color:"#D73A49"},children:":"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"string"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#E36209"},children:"bar"}),l.jsx(s.span,{style:{color:"#D73A49"},children:":"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Bar"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"}"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// 定义响应类型"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"export"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"interface"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Result"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#E36209"},children:"code"}),l.jsx(s.span,{style:{color:"#D73A49"},children:":"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"number"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#E36209"},children:"msg"}),l.jsx(s.span,{style:{color:"#D73A49"},children:":"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"string"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#E36209"},children:"data"}),l.jsx(s.span,{style:{color:"#D73A49"},children:":"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"string"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"}"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// 通过泛型来约束函数类型"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"export"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"default"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"apiHandler"}),l.jsx(s.span,{style:{color:"#24292E"},children:"<"}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Args"}),l.jsx(s.span,{style:{color:"#24292E"},children:", "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Result"}),l.jsx(s.span,{style:{color:"#24292E"},children:">("}),l.jsx(s.span,{style:{color:"#D73A49"},children:"async"}),l.jsx(s.span,{style:{color:"#24292E"},children:" ("}),l.jsx(s.span,{style:{color:"#E36209"},children:"args"}),l.jsx(s.span,{style:{color:"#D73A49"},children:":"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Args"}),l.jsx(s.span,{style:{color:"#24292E"},children:", "}),l.jsx(s.span,{style:{color:"#E36209"},children:"event"}),l.jsx(s.span,{style:{color:"#24292E"},children:") "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"=>"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// ..."})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"return"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"    code: "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"0"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"    msg: "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'ok'"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"    data: "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'This is ok'"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"  };"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"});"})})]})}),l.jsx(s.pre,{className:"code-theme-dark",style:{backgroundColor:'#161b22" tabindex="0'},children:l.jsxs(s.code,{children:[l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// <root>/src/server/api/todo.get.ts"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"import"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" { apiHandler } "}),l.jsx(s.span,{style:{color:"#F97583"},children:"from"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'servite/server'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"export"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"enum"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Bar"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"Great"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"Cool"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"}"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// 定义入参类型"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"export"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"interface"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Args"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"foo"}),l.jsx(s.span,{style:{color:"#F97583"},children:":"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"string"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"bar"}),l.jsx(s.span,{style:{color:"#F97583"},children:":"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Bar"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"}"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// 定义响应类型"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"export"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"interface"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Result"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"code"}),l.jsx(s.span,{style:{color:"#F97583"},children:":"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"number"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"msg"}),l.jsx(s.span,{style:{color:"#F97583"},children:":"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"string"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"data"}),l.jsx(s.span,{style:{color:"#F97583"},children:":"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"string"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"}"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// 通过泛型来约束函数类型"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"export"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"default"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"apiHandler"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"<"}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Args"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:", "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Result"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:">("}),l.jsx(s.span,{style:{color:"#F97583"},children:"async"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" ("}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"args"}),l.jsx(s.span,{style:{color:"#F97583"},children:":"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Args"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:", "}),l.jsx(s.span,{style:{color:"#FFAB70"},children:"event"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:") "}),l.jsx(s.span,{style:{color:"#F97583"},children:"=>"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// ..."})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#F97583"},children:"return"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    code: "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"0"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    msg: "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'ok'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    data: "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'This is ok'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  };"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"});"})})]})}),`
`,l.jsx(s.p,{children:"在前端 import 相关的类型："}),`
`,l.jsx(s.pre,{className:"code-theme-light",style:{backgroundColor:'#f6f8fa" tabindex="0'},children:l.jsxs(s.code,{children:[l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// <root>/src/pages/page.tsx"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"import"}),l.jsx(s.span,{style:{color:"#24292E"},children:" { useState, useEffect } "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"from"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'react'"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"import"}),l.jsx(s.span,{style:{color:"#24292E"},children:" getTodo, { Result, Bar } "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"from"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'../server/api/todo.get'"}),l.jsx(s.span,{style:{color:"#24292E"},children:";"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#D73A49"},children:"export"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"default"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"function"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Page"}),l.jsx(s.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// 使用 Result 作为 useState 的泛型"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"const"}),l.jsx(s.span,{style:{color:"#24292E"},children:" ["}),l.jsx(s.span,{style:{color:"#005CC5"},children:"res"}),l.jsx(s.span,{style:{color:"#24292E"},children:", "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"setRes"}),l.jsx(s.span,{style:{color:"#24292E"},children:"] "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"="}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"useState"}),l.jsx(s.span,{style:{color:"#24292E"},children:"<"}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"Result"}),l.jsx(s.span,{style:{color:"#24292E"},children:">();"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"useEffect"}),l.jsx(s.span,{style:{color:"#24292E"},children:"(() "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"=>"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"    ("}),l.jsx(s.span,{style:{color:"#D73A49"},children:"async"}),l.jsx(s.span,{style:{color:"#24292E"},children:" () "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"=>"}),l.jsx(s.span,{style:{color:"#24292E"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"      "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// 此调用会被自动转换成发起请求：GET /api/todo?foo=xxx&bar=0"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"      "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"const"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#005CC5"},children:"res"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"="}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#D73A49"},children:"await"}),l.jsx(s.span,{style:{color:"#24292E"},children:" "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"getTodo"}),l.jsx(s.span,{style:{color:"#24292E"},children:"({"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"        foo: "}),l.jsx(s.span,{style:{color:"#032F62"},children:"'xxx'"}),l.jsx(s.span,{style:{color:"#24292E"},children:","})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"        bar: Bar.Great,"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"      });"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"      "}),l.jsx(s.span,{style:{color:"#6F42C1"},children:"setRes"}),l.jsx(s.span,{style:{color:"#24292E"},children:"(res);"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"    })();"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"  }, []);"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#24292E"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// ..."})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#24292E"},children:"}"})})]})}),l.jsx(s.pre,{className:"code-theme-dark",style:{backgroundColor:'#161b22" tabindex="0'},children:l.jsxs(s.code,{children:[l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#6A737D"},children:"// <root>/src/pages/page.tsx"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"import"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" { useState, useEffect } "}),l.jsx(s.span,{style:{color:"#F97583"},children:"from"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'react'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"import"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" getTodo, { Result, Bar } "}),l.jsx(s.span,{style:{color:"#F97583"},children:"from"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'../server/api/todo.get'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:";"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#F97583"},children:"export"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"default"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"function"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Page"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"() {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// 使用 Result 作为 useState 的泛型"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#F97583"},children:"const"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" ["}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"res"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:", "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"setRes"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"] "}),l.jsx(s.span,{style:{color:"#F97583"},children:"="}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"useState"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"<"}),l.jsx(s.span,{style:{color:"#B392F0"},children:"Result"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:">();"})]}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"useEffect"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"(() "}),l.jsx(s.span,{style:{color:"#F97583"},children:"=>"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    ("}),l.jsx(s.span,{style:{color:"#F97583"},children:"async"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" () "}),l.jsx(s.span,{style:{color:"#F97583"},children:"=>"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" {"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"      "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// 此调用会被自动转换成发起请求：GET /api/todo?foo=xxx&bar=0"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"      "}),l.jsx(s.span,{style:{color:"#F97583"},children:"const"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#79B8FF"},children:"res"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"="}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#F97583"},children:"await"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:" "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"getTodo"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"({"})]}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"        foo: "}),l.jsx(s.span,{style:{color:"#9ECBFF"},children:"'xxx'"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:","})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"        bar: Bar.Great,"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"      });"})}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"      "}),l.jsx(s.span,{style:{color:"#B392F0"},children:"setRes"}),l.jsx(s.span,{style:{color:"#E1E4E8"},children:"(res);"})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"    })();"})}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  }, []);"})}),`
`,l.jsx(s.span,{className:"line"}),`
`,l.jsxs(s.span,{className:"line",children:[l.jsx(s.span,{style:{color:"#E1E4E8"},children:"  "}),l.jsx(s.span,{style:{color:"#6A737D"},children:"// ..."})]}),`
`,l.jsx(s.span,{className:"line",children:l.jsx(s.span,{style:{color:"#E1E4E8"},children:"}"})})]})})]})}function t(e={}){const{wrapper:s}={...r(),...e.components};return s?l.jsx(s,{...e,children:l.jsx(c,{...e})}):c(e)}function o(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}export{t as default,i as frontmatter,d as toc};
