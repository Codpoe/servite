import{R as b,r as c,a as w,_ as S}from"./islands-3a26fbdc.js";import{u as O,r as N,A as m,L as k,j as h,F as g,i as R,a as n,W as I,S as v,C as _,I as D,b as A}from"./index-5d8d63ee.js";import{u as P}from"./context-81373608.js";function F(r){var a=r.target,o=a.tagName;return a.isContentEditable||o==="INPUT"||o==="SELECT"||o==="TEXTAREA"}function T(r){var a=r.isOpen,o=r.onOpen,d=r.onClose,i=r.onInput,s=r.searchButtonRef;b.useEffect(function(){function l(t){function C(){document.body.classList.contains("DocSearch--active")||o()}(t.keyCode===27&&a||t.key.toLowerCase()==="k"&&(t.metaKey||t.ctrlKey)||!F(t)&&t.key==="/"&&!a)&&(t.preventDefault(),a?d():document.body.classList.contains("DocSearch--active")||C()),s&&s.current===document.activeElement&&i&&/[a-zA-Z0-9]/.test(String.fromCharCode(t.keyCode))&&i(t)}return window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l)}},[a,o,d,i,s])}let x=null;async function p(){x||([{DocSearchModal:x}]=await Promise.all([S(()=>import("./modal-94c174a9.js"),["assets/modal-94c174a9.js","assets/islands-3a26fbdc.js"]),S(()=>import("./index-779358f4.js"),["assets/index-779358f4.js","assets/index-41980c59.css"])]))}function $({hit:r,children:a}){return n(A,{to:r.url,children:a})}function M({iconOnly:r}){const a=O(),{currentLocale:o}=P(),d=c.useRef(null),[i,s]=c.useState(!1),l=c.useCallback(async()=>{await p(),s(!0)},[s]),t=c.useCallback(()=>{s(!1)},[s]),C=c.useCallback(e=>e.map(u=>{const{pathname:f,hash:L}=new URL(u.url);return{...u,url:`${N("/servite/")}${f}${L}`}}),[]),E=c.useRef({navigate({item:e}){e!=null&&e.url&&a(e.url)}}).current,y=c.useMemo(()=>{var u,f;let e=((f=(u=m)==null?void 0:u.searchParameters)==null?void 0:f.facetFilters)||[];return e=typeof e=="string"?[e]:e,k.length>1?[`lang:${o.locale}`,...e]:e},[o]);return T({isOpen:i,onOpen:l,onClose:t}),h(g,{children:[!R&&n(I,{children:n("link",{rel:"preconnect",href:`https://${m.appId}-dsn.algolia.net`,crossOrigin:""})}),n("button",{ref:d,className:"group flex justify-center items-center h-full ml-6","aria-label":"Search",onMouseOver:p,onTouchStart:p,onFocus:p,onClick:l,children:r?n("div",{className:"flex justify-center w-12",children:n(v,{className:"text-xl text-c-text-0 group-hover:text-c-brand transition-colors"})}):h(g,{children:[h("div",{className:"flex items-center space-x-1.5 mr-1.5 text-c-text-2 group-hover:text-c-text-0 transition-colors",children:[n(v,{className:"text-[15px]"}),n("span",{className:"text-[13px]",children:"Search"})]}),h("div",{className:"flex items-center h-4.5 px-0.5 border border-current rounded text-xs text-c-text-3 group-hover:text-c-brand transition-colors",children:[n(_,{}),"K"]})]})}),D&&i&&x&&w.createPortal(n(x,{initialScrollY:window.scrollY,transformItems:C,hitComponent:$,navigator:E,onClose:t,...m,searchParameters:{...m.searchParameters,facetFilters:y}}),document.body)]})}export{M as Search};
